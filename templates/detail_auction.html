<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>상품상세 - 경매하는 경우</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='menuBar.css') }}">
    <script src="{{ url_for('static', filename='menuBar.js') }}" defer></script>
    <style>
        body {
            font-size: 16px; /* 기본 폰트 크기 설정 */
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 2%;
        }

        .image-container {
            display: flex;
            justify-content: center;
        }

        .image-upload img {
            max-width: 100%; /* 이미지가 부모 요소에 맞게 크기 조절 */
            max-height: 100%; /* 이미지가 부모 요소에 맞게 크기 조절 */
        }

        .product-description {
            height: 20%; /* 필요에 따라 높이 조절 */
            width: 80%; /* 필요에 따라 너비 조절 */
            resize: vertical;
            border: 1px solid #ccc;
            border-radius: 2%; /* 필요에 따라 둥글게 만들기 */
            margin: 0 auto;
        }

        .product-description h2 {
            text-align: center;
        }

        label {
            margin-right: 2%;
        }

        .info {
            text-align: center;
        }

        .title {
            font-weight: bold;
            font-size: 1.5em;
        }

        .left-content {
            width: 50%;
            text-align: justify;
        }

        .title {
            font-weight: bold;
        }

        /* 새로운 스타일 추가 */
        .info {
            text-align: left;
            margin-left: 10%; /* 박스의 가장 왼쪽으로부터의 여백을 설정 */
        }

        /* 새로운 스타일 추가 - 제목 스타일 설정 */
        .market-title {
            font-size: 1.2em;
            font-weight: bold;
        }

        /* 새로운 스타일 추가 - 저작권 문구 스타일 설정 */
        .copyright {
            font-size: 0.7em;
        }

        .text-section {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 5%; /* 화면 너비의 5%로 설정 */
        }

        /* Add these styles to move user links to the right */
        nav .user-links {
            display: flex;
            align-items: center;
            list-style: none;
        }

        nav .user-links li {
            margin-left: 2%; /* 좌우 여백을 설정 */
        }

        /* Adjust the margin for the search button */
        nav .search-button {
            margin-right: 2%; /* 좌우 여백을 설정 */
        }

        .image-container {
            display: flex;
            justify-content: center;
            margin: 1%; /* 여백 추가 */
            border: 1px solid magenta;
            border-radius: 5%;
            padding: 1%; /* 내부 여백 설정 */
        }

        .image-wrapper {
            display: flex;
            justify-content: center;
            margin: 3%; /* 여백 추가 */
            padding: 3%; /* 내부 여백 설정 */
        }

        .image-wrapper img {
            max-width: 100%; /* 이미지가 부모 요소에 맞게 크기 조절 */
            max-height: 100%; /* 이미지가 부모 요소에 맞게 크기 조절 */
            border-radius: 5%; /* 이미지 테두리를 둥글게 만들기 */
            padding: 1%; /* 이미지와 테두리 사이에 여백 추가 */
        }

        .custom-image {
            width: 2%; /* 크기 설정 */
            height: 2%; /* 크기 설정 */
            position: absolute;
            bottom: 1%; /* 아래 여백 설정 */
            right: 85%; /* 우측 여백 설정 */
        }

        .comment-box {
            display: flex;
            margin: 1%; /* 여백 추가 */
        }

        .comment-textbox {
            flex: 1;
            padding: 1%;
            border: 1px solid #ccc;
            border-radius: 1%;
        }

        .comment-submit-button {
            background-color: #F8D57E;
            color: #2D2D2D;
            padding: 1% 2%;
            border: none;
            border-radius: 1%;
            cursor: pointer;
            margin-left: 1%; /* 여백 추가 */
        }

        .buy-reply {
            background-color: #d5c5f4;
            border-radius: 15px; /* 둥근 테두리 반지름 설정 */
            margin-left: 30px; /* 왼쪽 여백 설정 */
            margin-right: 30px;
            padding: 10px; /* 내부 여백 설정 (텍스트와 테두리 사이의 공간) */
        }

        .sel-reply {
            border: 3px solid #d5c5f4;
            border-radius: 15px;
            margin-left: 30px;
            margin-right: 30px;
            padding: 10px;
        }
    </style>
</head>
<body>
{% include 'header.html' %}
{% include 'menuBar.html' %}
<section>
    {% block section %}




        <div class="image-wrapper">
            <img src="../../static/img/{{ data.img_path }}"
                 style="width:300px; height: 300px; border: 3px solid gray; border-radius: 15px;" alt="상품 이미지">
            <img src="https://creazilla-store.fra1.digitaloceanspaces.com/emojis/54147/sparkling-heart-emoji-clipart-md.png"
                 class="custom-image" alt="맘찍">
        </div>
        <div class="text-section">
            <h4>상품명</h4>
            <p style="font-size: 30px; font-weight: bold;">{{ name }}</p>
            <br>
            <div style="display: flex;">
                <div style="flex: 1;">
                    <h4>경매가</h4>
                    <p style="font-size: 30px; font-weight: bold;">{{ data.min_price }}</p>
                </div>
                <div style="flex: 1;">
                    <h4>경매마감일</h4>
                    <p style="font-size: 30px; font-weight: bold;">{{ data.end_date }}</p>
                </div>
            </div>
            <br>
            <h4>가능한 거래 방식</h4>
            <p style="font-size:30px; font-weight: bold;">
                {% for transaction_value in transaction_list %}
                    <p>
                        {% if transaction_value == 'dir' %}
                            직거래 <img src="../../static/img/dir.png" style="width:80px; height: 80px;">
                        {% endif %}
                        {% if transaction_value == 'pars' %}
                            택배거래 <img src="../../static/img/pars.png" style="width:80px; height: 80px;">
                        {% endif %}
                        {% if transaction_value == 'box' %}
                            비대면상자 <img src="../../static/img/box.png" style="width:80px; height: 80px;">
                        {% endif %}
                    </p>
                {% endfor %}
            </p>
            <br>
            <div style="display: flex;">
                <div style="flex: 1;">
                    <h4>판매자</h4>
                    <p style="font-size: 30px; font-weight: bold;">{{ data.seller_id }}</p>
                </div>
                <div style="flex: 1;">
                    <h4>상품 등록일</h4>
                    <p style="font-size: 30px; font-weight: bold;">{{ data.post_date }}</p>
                </div>
            </div>
        </div>
        <br><br>
        <h1 id="countdown-timer" style="font-weight: bold; font-size: 50px; text-align: center; color:darkorange">경매
            종료까지 남은 시간: </h1>
        <br>
        <div style="text-align: center;">
            <label for="bid-amount" style="font-size: 24px;">나의 입찰가:</label>
            <input type="number" id="bid-amount" placeholder="금액을 입력하세요" style="font-size: 24px; border-radius: 8px;">
            <span style="font-size: 24px;">원</span>
            <button class="bid-button"
                    style="background-color: orange; color: white; font-size: 24px; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin-left: 40px;">
                경매 참가
            </button>
        </div>
        <p style="color: red; font-size: 14px; text-align: left; margin-left: 550px;">*상품 구매 희망자들은 최저 낙찰가 이상의 가격부터 입찰가로
            등록 가능합니다.<br> 경매 마감일까지 시간이 남았더라도 최고 낙찰가가 입찰가로 등록된 즉시, 경매는 종료됩니다.<br> 나의 입찰가가 낙찰되어 경매에 성공한 이후 거래를 취소할 수 없습니다.
        </p>
        <br><br>
        <div class="product-description" style="text-align: justify;">
            <h2>상세 설명</h2>
            <p style="font-size: 14px; border-radius: 20px; max-width: 400px; margin: 0 auto; resize: vertical;">{{ product_description }}</p>
        </div>
        <br><br>
        <div class="comment-section">
            <h2 style="margin-left: 20px;">댓글</h2>
            <div class="comment-box">
                <textarea class="comment-textbox" placeholder="댓글을 입력하세요"></textarea>
                <button class="comment-submit-button">게시</button>
            </div>
        </div>
        <br>
        <div class="buy-reply">
            <div class="comment-description">
                <h3>구매하려고 하는 사람 1</h3>
                <p>감사합니다~</p>
            </div>
        </div>
        <br>
        <div class="sel-reply">
            <div class="comment-description">
                <h3>판매자 (햇감자포카칩)</h3>
                <p>완전 새제품이에용~</p>
            </div>
        </div>
        <br>
        <div class="buy-reply">
            <div class="comment-description">
                <h3>구매하려고 하는 사람 1</h3>
                <p>상품에 하자 있나요?</p>
            </div>
        </div>

    {% endblock section %}
</section>

{% include 'footer.html' %}

<script>
    // Set the target date and time for the countdown
    var targetDate = new Date("2023-12-14T00:00:00").getTime();

    // Update the countdown every 1 second
    var countdownInterval = setInterval(function () {
        var currentDate = new Date().getTime();
        var timeRemaining = targetDate - currentDate;

        if (timeRemaining <= 0) {
            // Auction has ended
            document.getElementById("countdown-timer").innerHTML = "경매 종료됨";
            clearInterval(countdownInterval);
        } else {
            // Calculate days, hours, minutes, and seconds
            var days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
            var hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

            // Update the countdown timer text
            var countdownText = days + "일 " + hours + "시간 " + minutes + "분 " + seconds + "초";
            document.getElementById("countdown-timer").innerHTML = "경매 종료까지 남은 시간: " + countdownText;
        }
    }, 1000); // Update every 1 second
</script>
</body>
</html>
